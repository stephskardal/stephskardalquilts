
<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  background: #333;
}

circle {
  stroke: #000;
  stroke-width: 1.5px;
}

</style>
<svg width="100%" height="100%" viewbox="0 0 6500 5525"><g></g></svg>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script src="//d3js.org/d3.v4.0.0-alpha.35.min.js"></script>
<script src="/custom_js/chroma.min.js"></script>
<script>

d3.text("/custom_js/fabricSwatches.js?v=2", function(error, root) {
  eval(root);

  var colorArray = [];

  jQuery.each(fabricSwatches, function(fabricKey, data) {
    jQuery.each(data.swatches, function(key, value) {
      var hsl = chroma(value).hsl();
      if(hsl[0] != 0 && hsl[1] != 0) {
        colorArray.push(value);
      }
    });
  });

var svg = d3.select("svg");
var width = 6500,
    height = 5525,
    size = 6500;

var m = 12; 
var nodes = [];
var angles = [0, 90, 180, 270];
 
  jQuery.each(colorArray, function(i, el) {
    var hsl = chroma(el).hsl();
    var sat = hsl[1];
    var scale = parseInt(0.5 + sat*5);
    var random = Math.floor(Math.random() * Math.floor(4));
    var randomXShift = Math.floor(Math.random() * Math.floor(10)) * 100;
    var randomYShift = Math.floor(Math.random() * Math.floor(10)) * 100;
     
    nodes.push({
      hex: el,
      points: '0,0 0,100 50,50',
      transform: 'scale(' + scale + ') translate(' + randomXShift + ',' + randomYShift + ') rotate(' + angles[random] + ')'
    });
  });
  jQuery.each(colorArray, function(i, el) {
    var hsl = chroma(el).hsl();
    var sat = hsl[1];
    var scale = parseInt(1 + sat*10);
    var random = Math.floor(Math.random() * Math.floor(4));
    var randomXShift = Math.floor(Math.random() * Math.floor(10)) * 100;
    var randomYShift = Math.floor(Math.random() * Math.floor(10)) * 100;
     
    nodes.push({
      hex: el,
      points: '0,0 0,100 50,50',
      transform: 'scale(' + scale + ') translate(' + randomXShift + ',' + randomYShift + ') rotate(' + angles[random] + ')'
    });
  });

  svg
    .select("g")
    .selectAll("polygon")
    .data(nodes)
    .enter().append("polygon")
      .style("fill", function(d) { return d.hex; })
      .attr('transform', function(d) { return d.transform; })
      .attr("points", function(d) { return d.points; });
});

</script>
